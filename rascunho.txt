Rotinas (Pseudo-código)


1. Variáveis iniciais, flags, constantes e configurações
    1.1. Zerar os valores dos displays 7 segmentos
    1.2. Zerar os valores das unidades de contagem (unidade, dezena...)
    1.3. Zerar os valores dos LEDs (apagar todos)
    1.4. Valores de flags (inibir contagem = 0)
    1.5. Valores iniciais dos limites de contagem (começam em 9 por padrão)



2. Início da rotina geral (loop principal)
    2.0. Leitura da flag de inibir contagem
        - Carrega valor da flag no acumulador
        - Compara com 0
        - Se for igual, pula para a etapa de verificação de KEYs (JEQ)
        - Se não for igual, dá um (JSR) para algum lugar com a finalização (limite atingido)
    2.1. Verificação de KEY0
        - Carrega no acumulador o valor de KEY0
        - Compara com o valor 0 gravado em MEM[0]
        - Carrega no acumulador o valor 0
        - Limpa a leitura de KEY0 (STA 511)
        - Prossegue para leitura de KEY1 se KEY0 não foi pressionado (JEQ)
        - Se tiver sido pressionado, pula para sub-rotina de incremento (JSR)
        - Após o retorno, prossegue para leitura de KEY1

    2.2 Verificação de KEY1
        - Carrega no acumulador o valor de KEY1
        - Compara com 0 (MEM[0])
        - Carrega no acumulador o valor 0
        - Limpa leitura da KEY1 (STA 510)
        - Se for igual, faz um JEQ para o início do loop principal
        - Se não for igual, pula para sub-rotina de configuração de limite (JSR)
        - Após retornar, JMP para o início



3. Rotina de incremento
    - Carrega no acumulador o valor do limite das unidades
    - Compara com o atual valor das unidades
    - Se for igual, verifica as dezenas (JEQ)
    - Se não for igual, pula direto para a parte que incrementa (JMP)

    - Carrega no acumulador o valor do limite das dezenas
    - Compara com o atual valor das dezenas
    - Se for igual, desvia para alguma parte onde trata o estouto de limite (JEQ)
    - Se não for igual, pula direto para a parte que incrementa (JMP)

    - Carrega no acumulador o valor das unidades gravado na memória
    - Soma 1 nesse valor (que fica armazenado no acumulador)
    - Grava esse valor na posição de memória das unidades
    - Grava esse valor no hexadecimal de unidades
    - Carrega no acumulador o valor 10
    - Compara o acumulador com o valor das unidades
    - Se for igual, pula para essas instruções:
        - Carrega zero no acumulador
        - Grava esse valor na posição de memória das unidades
        - Grava esse valor no hexadecimal de unidades
        - Avança para a análise das dezenas
    - No caso que não foi igual:
        - Sai dessa sub-rotina (retorna ao loop principal)
    
    - Carrega no acumulador o valor das dezenas gravado na memória
    - Soma 1 nesse valor (que fica armazenado no acumulador)
    - Grava esse valor na posição de memória das dezenas
    - Grava esse valor no hexadecimal de dezenas
    - Carrega no acumulador o valor 10
    - Compara o acumulador com o valor das dezenas
    - Se for igual, pula para essas instruções:
        - Carrega zero no acumulador
        - Grava esse valor na posição de memória das dezenas
        - Grava esse valor no hexadecimal de dezenas
        - Avança para a análise das centenas
    - No caso que não foi igual:
        - Sai dessa sub-rotina (retorna ao loop principal)

    - Volta para a rotina principal



4. Rotina de configuração de limites
    - Carrega no acumulador o valor de KEY1
    - Compara com o valor 0
    - Carrega no acumulador o valor 0
    - Limpa leitura de KEY1 (STA 510)
    - Se for igual, pula para o início dessa etapa (JEQ)
    - Se não for igual, carrega no acumulador o valor de SW0-SW3 (considere aqui que não será selecionado números maiores => colocar essa obs no relatório)
    - Grava leitura no endereço de memória do limite das UNIDADES
    - Carrega 1 no acumulador
    - Grava valor nos LED07 para sinalizar primeira configuração

    - Carrega no acumulador o valor de KEY1
    - Compara com o valor 0
    - Carrega no acumulador o valor 0
    - Limpa leitura de KEY1 (STA 510)
    - Se for igual, pula para o início dessa segunda etapa (JEQ)
    - Se não for igual, carrega no acumulador o valor de SW0-SW3 (considere aqui que não será selecionado números maiores => colocar essa obs no relatório)
    - Grava leitura no endereço de memória do limite das DEZENAS
    - Carrega 3 no acumulador
    - Grava valor nos LED07 para sinalizar segunda configuração configuração

    - Carrega no acumulador o valor de KEY1
    - Compara com o valor 0
    - Carrega no acumulador o valor 0
    - Limpa leitura de KEY1 (STA 510)
    - Se for igual, pula para o início dessa terceira etapa (JEQ)
    - Se não for igual, carrega no acumulador o valor 0
    - Grava esse valor nos LED07 (para apagar)
    
    - Retorna para o loop principal



5. Rotina de estouro do limite
    - Carrega 1 no acumulador
    - Grava valor no LEDR9 (indicador de limite)
    - NOP
    - JMP para o NOP anterior (fica preso nesse laço)